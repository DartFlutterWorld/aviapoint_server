# ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è avia-point.com

## üìã –î–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] **DNS –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã**
  - [ ] `avia-point.com` A-–∑–∞–ø–∏—Å—å ‚Üí IP VPS
  - [ ] `www.avia-point.com` CNAME ‚Üí `avia-point.com` –∏–ª–∏ A-–∑–∞–ø–∏—Å—å ‚Üí IP VPS
  - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞: `nslookup avia-point.com`

- [ ] **VPS –≥–æ—Ç–æ–≤**
  - [ ] Ubuntu 20.04 –∏–ª–∏ –Ω–æ–≤–µ–µ
  - [ ] Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (`docker --version`)
  - [ ] Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (`docker-compose --version`)
  - [ ] –ü–æ—Ä—Ç—ã 80, 443 –æ—Ç–∫—Ä—ã—Ç—ã –≤ firewall
  - [ ] SSH –¥–æ—Å—Ç—É–ø —Ä–∞–±–æ—Ç–∞–µ—Ç

- [ ] **–ö–æ–¥ –≥–æ—Ç–æ–≤**
  - [ ] Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω –Ω–∞ VPS
  - [ ] `docker-compose.prod.yaml` —Å–æ–¥–µ—Ä–∂–∏—Ç `avia-point.com`
  - [ ] `nginx.conf` —Å–æ–¥–µ—Ä–∂–∏—Ç `avia-point.com`
  - [ ] `env.example` –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è `avia-point.com`

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π:
```bash
grep -r "avia-point.com" docker-compose.prod.yaml nginx.conf
grep -r "your-domain" docker-compose.prod.yaml nginx.conf
# –í—Ç–æ—Ä–æ–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–π–¥–µ–Ω–æ!
```

- [ ] –ö–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```bash
git add .
git commit -m "chore: Configure avia-point.com with SSL"
git push origin main
```

### –ù–∞ VPS

- [ ] –°–æ–∑–¥–∞—Ç—å `.env` —Ñ–∞–π–ª:
```bash
cp env.example .env
nano .env
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏!
```

- [ ] –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
```bash
mkdir -p ssl public pgdata
chmod 755 ssl public pgdata
```

- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:
```bash
bash deploy.sh
# –∏–ª–∏ –≤—Ä—É—á–Ω—É—é:
docker-compose -f docker-compose.prod.yaml up -d
```

- [ ] –î–æ–∂–¥–∞—Ç—å—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (30 —Å–µ–∫—É–Ω–¥)

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:
```bash
ls -la ssl/live/avia-point.com/
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å: fullchain.pem, privkey.pem
```

## ‚úì –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] **–°–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç**
  - [ ] `docker-compose -f docker-compose.prod.yaml ps`
  - [ ] –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏–º–µ—é—Ç —Å—Ç–∞—Ç—É—Å "Up"

- [ ] **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç**
  - [ ] Adminer –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://VPS_IP:8082`
  - [ ] –ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å —Ö–æ—Å—Ç–æ–º `db`, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `postgres`

- [ ] **API —Ä–∞–±–æ—Ç–∞–µ—Ç**
  - [ ] `curl https://avia-point.com/openapi -I` ‚Üí 200 OK
  - [ ] `curl -L http://avia-point.com/openapi -I` ‚Üí 200 OK (—Ä–µ–¥–∏—Ä–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç)

- [ ] **HTTPS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–µ–Ω**
  - [ ] `openssl s_client -connect avia-point.com:443 -brief`
  - [ ] –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å "Verify return code: 0 (ok)"

- [ ] **HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ HTTPS**
  - [ ] `curl -I http://avia-point.com` ‚Üí 301 —Ä–µ–¥–∏—Ä–µ–∫—Ç
  - [ ] –†–µ–¥–∏—Ä–µ–∫—Ç –≤–µ–¥–µ—Ç –Ω–∞ `https://avia-point.com`

- [ ] **–ë—Ä–∞—É–∑–µ—Ä —Ç–µ—Å—Ç**
  - [ ] –û—Ç–∫—Ä–æ–π—Ç–µ `https://avia-point.com` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
  - [ ] –ó–Ω–∞—á–æ–∫ –∑–∞–º–∫–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–µ–ª–µ–Ω—ã–º ‚úÖ
  - [ ] –ù–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] **–ü–∞—Ä–æ–ª–∏**
  - [ ] `POSTGRESQL_PASSWORD` –∏–∑–º–µ–Ω–µ–Ω —Å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ
  - [ ] `JWT_SECRET` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–ª–æ–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  - [ ] `.env` —Ñ–∞–π–ª –ù–ï –≤ –≥–∏—Ç–µ

- [ ] **–§–∞–π–ª—ã**
  - [ ] `.env` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
  - [ ] `pgdata/` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
  - [ ] `ssl/` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`

- [ ] **Firewall**
  - [ ] –¢–æ–ª—å–∫–æ 80 –∏ 443 –æ—Ç–∫—Ä—ã—Ç—ã –¥–ª—è –º–∏—Ä–∞
  - [ ] SSH –Ω–∞ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –ø–æ—Ä—Ç—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - [ ] Fail2ban —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üîÑ –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

- [ ] **–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤**
  - [ ] Cron-–∑–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ crontab
  - [ ] –ö–æ–º–∞–Ω–¥–∞: `0 2 1 * * cd /home/aviapoint/aviapoint_server && docker-compose -f docker-compose.prod.yaml exec -T certbot certbot renew --quiet`

- [ ] **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
  - [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker logs -f aviapoint-nginx`
  - [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ: `df -h`
  - [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —á–µ—Ä–µ–∑ 80 –¥–Ω–µ–π

- [ ] **–ë–µ–∫–∞–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**
  - [ ] –°–æ–∑–¥–∞–π—Ç–µ –±–µ–∫–∞–ø –ë–î:
```bash
docker exec aviapoint-postgres pg_dump -U postgres aviapoint > backup_$(date +%Y%m%d).sql
```
  - [ ] –ó–∞–≥—Ä—É–∑–∏—Ç–µ –±–µ–∫–∞–ø –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ

## üìä –ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏: `docker logs aviapoint-dart-server`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (openzeppelin/prometheus + grafana –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üÜò –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

### –û—Ç–∫–∞—Ç –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é

```bash
git checkout <stable_commit>
docker-compose -f docker-compose.prod.yaml up -d --build
```

### –ü–æ–ª–Ω–æ–µ –æ—á–∏—â–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
docker-compose -f docker-compose.prod.yaml down -v
rm -rf pgdata/
docker-compose -f docker-compose.prod.yaml up -d
```

### –°–±—Ä–æ—Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
rm -rf ssl/
docker-compose -f docker-compose.prod.yaml restart certbot
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

- üìß Email: admin@avia-point.com
- üì± Telegram: @yourhandle
- üêõ Issues: https://github.com/yourname/aviapoint_server/issues

---

‚úÖ **–í—Å–µ –≥–æ—Ç–æ–≤–æ! –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è!**

