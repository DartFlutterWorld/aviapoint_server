# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ –ÆKassa

## –ö–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –≤ —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º

### 1. –ü–æ–ª—É—á–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏

1. –ó–∞–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –ÆKassa: https://yookassa.ru/my
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** ‚Üí **–ö–ª—é—á–∏ API**
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω **—Ç–µ—Å—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω** (ShopID –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞)
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **Shop ID** (–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–∞–≥–∞–∑–∏–Ω–∞) - –Ω–∞–ø—Ä–∏–º–µ—Ä: `1263563`
   - **Secret Key** (—Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á) - –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `test_`, –Ω–∞–ø—Ä–∏–º–µ—Ä: `test_smWzm-HQP7WiixTzc5hnBtHv3toaasT3_BLbaouMhrY`

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ `aviapoint_server`:

```bash
# –í–∫–ª—é—á–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
YOOKASSA_TEST_MODE=true

# –¢–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–∏ –∏–∑ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ –ÆKassa)
YOOKASSA_SHOP_ID=1263563
YOOKASSA_SECRET_KEY=test_smWzm-HQP7WiixTzc5hnBtHv3toaasT3_BLbaouMhrY
```

#### ‚ö†Ô∏è –í–∞–∂–Ω–æ: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ!

**–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä–µ!**

- `docker-compose.dev.yaml` - –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–ë–î + Adminer)
- `docker-compose.prod.yaml` - –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä–∞ (–≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–¥–∞–∫—à–Ω –∫–ª—é—á–∏)

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

#### –õ–æ–∫–∞–ª—å–Ω–æ:
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ë–î –∏ Adminer
docker-compose -f docker-compose.dev.yaml up -d

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –∫–ª—é—á–∞–º–∏
./run_local.sh
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
ENVIRONMENT=local dart run
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
üîß –ÆKassa: –¢–ï–°–¢–û–í–´–ô —Ä–µ–∂–∏–º –≤–∫–ª—é—á–µ–Ω
```

## –¢–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –ÆKassa

–ü–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã:

### –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞:
- **–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã:** `5555 5555 5555 4444`
- **–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è:** –ª—é–±–∞—è –±—É–¥—É—â–∞—è –¥–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `12/25`)
- **CVC:** –ª—é–±—ã–µ 3 —Ü–∏—Ñ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `123`)
- **–ò–º—è –¥–µ—Ä–∂–∞—Ç–µ–ª—è:** –ª—é–±–æ–µ

### –û—Ç–º–µ–Ω–∞ –ø–ª–∞—Ç–µ–∂–∞:
- **–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã:** `5555 5555 5555 4477`

### –û—à–∏–±–∫–∞ –ø–ª–∞—Ç–µ–∂–∞:
- **–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã:** `5555 5555 5555 4499`

### 3D Secure:
- **–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã:** `5555 5555 5555 4444`
- –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –≤–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–π –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `123`)

## –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `YOOKASSA_TEST_MODE=false` –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–æ–¥–∞–∫—à–Ω –∫–ª—é—á–∏:
   ```bash
   YOOKASSA_SHOP_ID=1214860
   YOOKASSA_SECRET_KEY=live_A8iyj3kBLfq4YUiKwlHoPpvBP0B7BQIBhY3vOPuDisc
   ```
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
üîß –ÆKassa: –ü–†–û–î–ê–ö–®–ù —Ä–µ–∂–∏–º
```

## –í–∞–∂–Ω–æ

‚ö†Ô∏è **–í —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ:**
- –î–µ–Ω—å–≥–∏ –ù–ï —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è
- –ü–ª–∞—Ç–µ–∂–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç —Ä–µ–∞–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã

‚ö†Ô∏è **–í –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º–µ:**
- –î–µ–Ω—å–≥–∏ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –†–ï–ê–õ–¨–ù–û
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã
- –í—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –±–∞–Ω–∫–∏

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ - —Ç–∞–º –±—É–¥–µ—Ç —É–∫–∞–∑–∞–Ω —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º:
- `üîß –ÆKassa: –¢–ï–°–¢–û–í–´–ô —Ä–µ–∂–∏–º –≤–∫–ª—é—á–µ–Ω` - —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
- `üîß –ÆKassa: –ü–†–û–î–ê–ö–®–ù —Ä–µ–∂–∏–º` - –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º
