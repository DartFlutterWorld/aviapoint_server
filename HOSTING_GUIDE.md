# üåê –ü—É—Ç–µ–≤–æ–¥–∏—Ç–µ–ª—å –ø–æ —Ö–æ—Å—Ç–∏–Ω–≥—É AviaPoint Server

## üìã –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –¶–µ–Ω–∞ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ö–æ–Ω—Ç—Ä–æ–ª—å | SSL | DB | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è |
|-----------|------|-----------|---------|-----|-----|--------------|
| **Render.com** | $7-25 | ‚≠ê Easy | Medium | ‚úÖ | ‚úÖ | ‚úÖ BEST |
| **DigitalOcean App** | $12-40 | ‚≠ê Easy | Low | ‚úÖ | ‚úÖ | ‚úÖ Good |
| **Railway** | $5-50+ | ‚≠ê Easy | Low | ‚úÖ | ‚úÖ | ‚úÖ Good |
| **Linode (VPS)** | $5-20 | ‚≠ê‚≠ê‚≠ê Hard | High | ‚öôÔ∏è | ‚öôÔ∏è | ‚úÖ PRO |
| **AWS** | $20-100+ | ‚≠ê‚≠ê‚≠ê Hard | High | ‚úÖ | ‚úÖ | üìà Scale |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –Ω–∞ Render.com (5 –º–∏–Ω—É—Ç)

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –≤ GitHub
git add .
git commit -m "Add deployment configuration"
git push origin main
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ PostgreSQL Service

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [render.com](https://render.com)
2. –ù–∞–∂–º–∏—Ç–µ "New +" ‚Üí "PostgreSQL"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Name:** `aviapoint-db`
   - **Database:** `aviapoint`
   - **User:** `postgres`
   - **Region:** –í—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π

### 3. –°–æ–∑–¥–∞–π—Ç–µ Web Service

1. –ù–∞–∂–º–∏—Ç–µ "New +" ‚Üí "Web Service"
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Name:** `aviapoint-server`
   - **Region:** –¢–æ—Ç –∂–µ —á—Ç–æ —É –ë–î
   - **Branch:** `main`
   - **Runtime:** Dart
   - **Build Command:** `dart pub get`
   - **Start Command:** `dart lib/main.dart`

### 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Environment –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–í —Ä–∞–∑–¥–µ–ª–µ "Environment":

```
POSTGRESQL_HOST=localhost (–∏–ª–∏ –ø–æ–ª—É—á–∏—Ç–µ –æ—Ç –ë–î —Å–µ—Ä–≤–∏—Å–∞)
POSTGRESQL_USER=postgres
POSTGRESQL_PASSWORD=[–∏–∑ –ë–î —Å–µ—Ä–≤–∏—Å–∞]
POSTGRESQL_DB=aviapoint
DART_ENV=production
```

### 5. Deploy

–ù–∞–∂–º–∏—Ç–µ "Create Web Service" - —Å–µ—Ä–≤–∏—Å –∑–∞–¥–µ–ø–ª–æ–π–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚úÖ

**URL –±—É–¥–µ—Ç –∫–∞–∫:** `https://aviapoint-server.onrender.com`

---

## üèóÔ∏è VPS + Docker (–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å)

### –ó–∞ 30 –º–∏–Ω—É—Ç –Ω–∞ Linode:

```bash
# 1Ô∏è‚É£ –°–æ–∑–¥–∞–π—Ç–µ Linode ($5-20/–º–µ—Å)
# –í—ã–±–µ—Ä–∏—Ç–µ: Ubuntu 22.04 LTS, 2GB RAM, 50GB SSD

# 2Ô∏è‚É£ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
ssh root@YOUR_IP

# 3Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞
curl https://your-github.com/aviapoint/install.sh | bash

# 4Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞
nano .env  # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

# 5Ô∏è‚É£ –°—Ç–∞—Ä—Ç
./start.sh production
```

---

## üìä –°—Ç–æ–∏–º–æ—Å—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (–≤ –º–µ—Å—è—Ü)

### Minimal Setup ($5-10/–º–µ—Å)
```
Linode VPS 2GB:        $5-10
= Total: $5-10/–º–µ—Å
```

### Recommended Setup ($15-30/–º–µ—Å)
```
Render Web Service:    $7-12
PostgreSQL Database:   $8-15
= Total: $15-27/–º–µ—Å
```

### Enterprise Setup ($50-200+/–º–µ—Å)
```
AWS EC2 t3.medium:     $30-40
AWS RDS PostgreSQL:    $30-50
Bandwidth/Storage:     $10-50
= Total: $70-140+/–º–µ—Å
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ deploy

- [ ] –í—Å–µ —Ñ–∞–π–ª—ã –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ GitHub
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `dart pub get`
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: `dart test`
- [ ] –ö–æ–¥ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è: `dart analyze`
- [ ] `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≥–æ—Ç–æ–≤ (–µ—Å–ª–∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ)
- [ ] DNS —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ö–æ—Å—Ç
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ VPS)
- [ ] Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–æ–¥—É–º–∞–Ω–∞
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

---

## üîß Post-Deploy checks

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
curl https://your-domain.com/openapi

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ë–î
curl -X GET https://your-domain.com/api/profiles

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Swagger
https://your-domain.com/openapi/

# 4. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
docker stats
```

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `docker logs app` |
| –ë–î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env` |
| –ú–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è | –í–∫–ª—é—á–∏—Ç—å Gzip –≤ nginx ‚úÖ (—É–∂–µ –≤–∫–ª—é—á–µ–Ω) |
| SSL –æ—à–∏–±–∫–∞ | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç: `openssl s_client -connect yourdomain.com:443` |
| 502 Bad Gateway | –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã: `docker-compose restart` |

---

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

–ö–æ–≥–¥–∞ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å:

1. **–î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤** - upgrade VPS/RDS
2. **–î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - Redis
3. **–î–æ–±–∞–≤–∏—Ç—å –æ—á–µ—Ä–µ–¥–∏** - RabbitMQ/Redis
4. **–î–æ–±–∞–≤–∏—Ç—å CDN** - Cloudflare (free)
5. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É** - Load Balancer
6. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î** - –ò–Ω–¥–µ–∫—Å—ã, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìû –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É

### üë§ –î–ª—è –æ–¥–Ω–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:
‚Üí **Render.com** - —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π, free tier –¥–æ—Å—Ç—É–ø–µ–Ω

### üè¢ –î–ª—è —Å—Ç–∞—Ä—Ç–∞–ø–∞:
‚Üí **DigitalOcean App Platform** –∏–ª–∏ **Railway** - —Ö–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å —Ü–µ–Ω—ã –∏ —Ñ—É–Ω–∫—Ü–∏–π

### üîß –î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö DevOps:
‚Üí **VPS + Docker** - –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –¥–æ—Å—Ç—É–ø–Ω–µ–µ –≤—Å–µ–≥–æ

### üìà –î–ª—è –±–æ–ª—å—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
‚Üí **AWS/GCP** - –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å, –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Docker Documentation](https://docs.docker.com/)
- [Render Documentation](https://render.com/docs)
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)
- [Dart Server Guide](https://dart.dev/guides/server)
- [Nginx Proxy Guide](https://nginx.org/en/docs/)

---

## üí° Pro Tips

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Cloudflare** (free) –¥–ª—è:
   - SSL termination
   - DDoS –∑–∞—â–∏—Ç—ã
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
   - Analytics

2. **–†–µ–≥—É–ª—è—Ä–Ω—ã–π backup:**
   ```bash
   # Daily backup
   0 2 * * * docker exec aviapoint-postgres pg_dump -U postgres aviapoint > /backups/db_$(date +\%Y\%m\%d).sql
   ```

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - UptimeRobot (free) - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
   - LogRocket (free trial) - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ—à–∏–±–∫–∏
   - Sentry (free tier) - –æ—à–∏–±–∫–∏ –≤ –∫–æ–¥–µ

4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
   - –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ security advisories
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Dependabot –Ω–∞ GitHub

---

**–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DEPLOYMENT.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –≥–∞–π–¥–∞.
